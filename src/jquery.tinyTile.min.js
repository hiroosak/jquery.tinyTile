(function(a){a.tinyTile=function(b,c){var d={row:4,gutter:12},e=this;e.settings={};var f=a(b),b=b,g=[];e.init=function(){e.settings=a.extend({},d,c);var b=e.settings,g=b.row-1,h=f.width(),i=(h-g*b.gutter)/b.row;e.settings=a.extend(e.settings,{width:h,col_width:i}),e.generate()},e.generate=function(){var b=f.children();f.css("position","relative"),a(b).css("overflow","hidden").css("position","absolute"),a.each(b,h),f.height(Math.max.apply(null,g))};var h=function(b,c){var d=e.settings,f=a(c),h=b%d.row,i=d.col_width,j=f.css("padding-left").replace("px",""),k=f.css("padding-right").replace("px","");f.data("tinyTile-generate")||(g[h]||(g[h]=0),f.width(i-j-k),f.css("left",h*i+h*d.gutter),f.css("top",g[h]),f.data("tinyTile-generate",1),g[h]+=f.outerHeight()+d.gutter)};e.init()},a.fn.tinyTile=function(b){return this.each(function(){var c;(c=a(this).data("tinyTile"))?c.generate():(c=new a.tinyTile(this,b),a(this).data("tinyTile",c))})}})(jQuery);